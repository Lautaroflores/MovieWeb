{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\master\\\\Desktop\\\\Front End\\\\React\\\\muestra\\\\src\\\\components\\\\Grid.jsx\",\n    _s = $RefreshSig$();\n\nimport { Card } from \"./Card\";\nimport styles from \"./Grid.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { get } from \"../utils/Fetch\";\nimport { Spinner } from \"./Spinner\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { NoResults } from \"./NoResults\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Grid(_ref) {\n  _s();\n\n  let {\n    search\n  } = _ref;\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  useEffect(() => {\n    setLoading(true);\n    const searchUrl = search ? \"/search/movie?query=\" + search + \"&page=\" + page : \"/discover/movie?page=\" + page;\n    get(searchUrl).then(data => {\n      setMovies(prevMovies => prevMovies.concat(data.results));\n      setHasMore(data.page < data.total_pages);\n      setLoading(false);\n    });\n  }, [search, page]);\n\n  if (movies.length === 0) {\n    return /*#__PURE__*/_jsxDEV(NoResults, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n    dataLength: movies.length,\n    next: () => setPage(prevPage => prevPage + 1),\n    hasMore: hasMore,\n    loader: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: styles.grid,\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(Card, {\n        movie: movie\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Grid, \"quuX193wVUg7vDy/TQdcEwR78ao=\");\n\n_c = Grid;\n\nvar _c;\n\n$RefreshReg$(_c, \"Grid\");","map":{"version":3,"sources":["C:/Users/master/Desktop/Front End/React/muestra/src/components/Grid.jsx"],"names":["Card","styles","useEffect","useState","get","Spinner","InfiniteScroll","NoResults","Grid","search","movies","setMovies","loading","setLoading","page","setPage","hasMore","setHasMore","searchUrl","then","data","prevMovies","concat","results","total_pages","length","prevPage","grid","map","movie","id"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,QAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,OAAO,SAASC,IAAT,OAA0B;AAAA;;AAAA,MAAZ;AAAEC,IAAAA;AAAF,GAAY;AAC/B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,IAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMK,SAAS,GAAGT,MAAM,GACpB,yBAAyBA,MAAzB,GAAkC,QAAlC,GAA6CK,IADzB,GAEpB,0BAA0BA,IAF9B;AAGAV,IAAAA,GAAG,CAACc,SAAD,CAAH,CAAeC,IAAf,CAAqBC,IAAD,IAAU;AAC5BT,MAAAA,SAAS,CAAEU,UAAD,IAAgBA,UAAU,CAACC,MAAX,CAAmBF,IAAI,CAACG,OAAxB,CAAjB,CAAT;AACAN,MAAAA,UAAU,CAACG,IAAI,CAACN,IAAL,GAAYM,IAAI,CAACI,WAAlB,CAAV;AACAX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJD;AAKD,GAVQ,EAUN,CAACJ,MAAD,EAASK,IAAT,CAVM,CAAT;;AAYF,MAAIJ,MAAM,CAACe,MAAP,KAAkB,CAAtB,EAAwB;AACtB,wBAAO,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAGC,sBACE,QAAC,cAAD;AACA,IAAA,UAAU,EAAEf,MAAM,CAACe,MADnB;AAEA,IAAA,IAAI,EAAE,MAAKV,OAAO,CAAGW,QAAD,IAAcA,QAAQ,GAAG,CAA3B,CAFlB;AAGA,IAAA,OAAO,EAAEV,OAHT;AAIA,IAAA,MAAM,eAAE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAJR;AAAA,2BAME;AAAI,MAAA,SAAS,EAAEf,MAAM,CAAC0B,IAAtB;AAAA,gBACGjB,MAAM,CAACkB,GAAP,CAAYC,KAAD,iBACV,QAAC,IAAD;AAAqB,QAAA,KAAK,EAAEA;AAA5B,SAAWA,KAAK,CAACC,EAAjB;AAAA;AAAA;AAAA;AAAA,cADD;AADH;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GAtCetB,I;;KAAAA,I","sourcesContent":["import { Card } from \"./Card\";\r\nimport styles from \"./Grid.module.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { get } from \"../utils/Fetch\";\r\nimport { Spinner } from \"./Spinner\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { NoResults } from \"./NoResults\";\r\n\r\nexport function Grid({ search }) {\r\n  const [movies, setMovies] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const searchUrl = search\r\n      ? \"/search/movie?query=\" + search + \"&page=\" + page\r\n      : \"/discover/movie?page=\" + page;\r\n    get(searchUrl).then((data) => {\r\n      setMovies((prevMovies) => prevMovies.concat (data.results));\r\n      setHasMore(data.page < data.total_pages);\r\n      setLoading(false);\r\n    });\r\n  }, [search, page]);\r\n\r\nif (movies.length === 0){\r\n  return <NoResults/>\r\n}\r\n\r\n\r\n  return (\r\n    <InfiniteScroll\r\n    dataLength={movies.length} \r\n    next={()=> setPage ((prevPage) => prevPage + 1 )}\r\n    hasMore={hasMore}\r\n    loader={<Spinner/>}>\r\n\r\n      <ul className={styles.grid}>\r\n        {movies.map((movie) => (\r\n          <Card key={movie.id} movie={movie} />\r\n        ))}\r\n      </ul>\r\n\r\n    </InfiniteScroll>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}